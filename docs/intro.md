---
id: getting-started
title: Quick start
sidebar_label: Quick start
---

# Quick start

ogen is a powerful and fast OpenAPI v3 code generator for Go.

### Prepare environment

Create Go [module](https://github.com/golang/go/wiki/Modules#quick-start).

```console
go mod init <project>
```

### Installation

Then, install the `ogen` tool.

```console
go install -v github.com/ogen-go/ogen/cmd/ogen
```

### Download example schema or write your own

Download petstore example.

```console
wget https://raw.githubusercontent.com/ogen-go/ogen/main/_testdata/swagger-petstore.yml
```

### Generate code

Create `generate.go` file:

```go title="<project>/generate.go"
package project

//go:generate go run github.com/ogen-go/ogen/cmd/ogen --schema ./swagger-petstore.yml --target petstore --clean
```

Then go to the root directory of your module, and run:

```
go generate ./...
```

`ogen` will generate new folder with several files

```console
petstore
├── oas_cfg_gen.go
├── oas_client_gen.go
├── oas_defaults_gen.go
├── oas_handlers_gen.go
├── oas_interfaces_gen.go
├── oas_json_gen.go
├── oas_param_dec_gen.go
├── oas_param_gen.go
├── oas_req_dec_gen.go
├── oas_req_enc_gen.go
├── oas_res_dec_gen.go
├── oas_res_enc_gen.go
├── oas_router_gen.go
├── oas_schemas_gen.go
├── oas_server_gen.go
├── oas_validators_gen.go
```

### Using generated server

To get started, implement `Handler` interface generated by `ogen` tool.

```go
// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// AddPet implements addPet operation.
	//
	// Add a new pet to the store.
	//
	// POST /pet
	AddPet(ctx context.Context, req Pet) (AddPetRes, error)
	// DeletePet implements deletePet operation.
	//
	// DELETE /pet/{petId}
	DeletePet(ctx context.Context, params DeletePetParams) (DeletePetBadRequest, error)
	// FindPetsByStatus implements findPetsByStatus operation.
	//
	// Multiple status values can be provided with comma separated strings.
	//
	// GET /pet/findByStatus
	FindPetsByStatus(ctx context.Context, params FindPetsByStatusParams) (FindPetsByStatusRes, error)
	// FindPetsByTags implements findPetsByTags operation.
	//
	// Multiple tags can be provided with comma separated strings. Use tag1, tag2, tag3 for testing.
	//
	// GET /pet/findByTags
	FindPetsByTags(ctx context.Context, params FindPetsByTagsParams) (FindPetsByTagsRes, error)
	// GetPetById implements getPetById operation.
	//
	// Returns a single pet.
	//
	// GET /pet/{petId}
	GetPetById(ctx context.Context, params GetPetByIdParams) (GetPetByIdRes, error)
	// UpdatePet implements updatePet operation.
	//
	// Update an existing pet by Id.
	//
	// PUT /pet
	UpdatePet(ctx context.Context, req Pet) (UpdatePetRes, error)
	// UpdatePetWithForm implements updatePetWithForm operation.
	//
	// POST /pet/{petId}
	UpdatePetWithForm(ctx context.Context, params UpdatePetWithFormParams) (UpdatePetWithFormMethodNotAllowed, error)
	// UploadFile implements uploadFile operation.
	//
	// POST /pet/{petId}/uploadImage
	UploadFile(ctx context.Context, req UploadFileReq, params UploadFileParams) (ApiResponse, error)
}
```

```go
package project

import (
	"context"

	petstore "<project>/petstore"
)

type petsService struct {
}

func (p petsService) AddPet(ctx context.Context, req petstore.Pet) (petstore.AddPetRes, error) {
	resp := req
	return &resp, nil
}

func (p petsService) DeletePet(ctx context.Context, params petstore.DeletePetParams) (petstore.DeletePetBadRequest, error) {
	return petstore.DeletePetBadRequest{}, nil
}

func (p petsService) FindPetsByStatus(ctx context.Context, params petstore.FindPetsByStatusParams) (petstore.FindPetsByStatusRes, error) {
	return petstore.FindPetsByStatusOKApplicationJSON{}, nil
}

func (p petsService) FindPetsByTags(ctx context.Context, params petstore.FindPetsByTagsParams) (petstore.FindPetsByTagsRes, error) {
	return petstore.FindPetsByTagsOKApplicationJSON{}, nil
}

func (p petsService) GetPetById(ctx context.Context, params petstore.GetPetByIdParams) (petstore.GetPetByIdRes, error) {
	return &petstore.GetPetByIdNotFound{}, nil
}

func (p petsService) UpdatePet(ctx context.Context, req petstore.Pet) (petstore.UpdatePetRes, error) {
	resp := req
	return &resp, nil
}

func (p petsService) UpdatePetWithForm(ctx context.Context, params petstore.UpdatePetWithFormParams) (petstore.UpdatePetWithFormMethodNotAllowed, error) {
	return petstore.UpdatePetWithFormMethodNotAllowed{}, nil
}

func (p petsService) UploadFile(ctx context.Context, req petstore.UploadFileReq, params petstore.UploadFileParams) (petstore.ApiResponse, error) {
	return petstore.ApiResponse{}, nil
}
```

#### Interface responses

Notice that handler for operation with multiple response types returns interface.

```yaml title="addPet operation schema"
  /pet:
    post:
      tags:
        - pet
      summary: Add a new pet to the store
      description: Add a new pet to the store
      operationId: addPet
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Pet'
        '405':
          description: Invalid input
      requestBody:
        description: Create a new pet in the store
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Pet'
```

```go title="addPet operation response interface"
type AddPetRes interface {
	addPetRes()
}
```

Such interface represents a sum type (or [_tagged union_](https://en.wikipedia.org/wiki/Tagged_union))
of different response types.

```go title="addPet operation response variants"
// AddPetMethodNotAllowed is response for AddPet operation.
type AddPetMethodNotAllowed struct{}

func (*AddPetMethodNotAllowed) addPetRes() {}

// Ref: #/components/schemas/Pet
type Pet struct {
	ID        OptInt64    `json:"id"`
	Name      string      `json:"name"`
	Category  OptCategory `json:"category"`
	PhotoUrls []string    `json:"photoUrls"`
	Tags      []Tag       `json:"tags"`
	// Pet status in the store.
	Status OptPetStatus `json:"status"`
}

func (*Pet) addPetRes()     {}
```



